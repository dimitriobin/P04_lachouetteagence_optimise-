function setUpSpecialNavs(){$(".navbar-toggle").click(function(e){var t=$(this).closest("nav"),o=t.find("ul.site-navigation"),n=o.clone();if(o.parent().hasClass("nav-special"))if(e.stopPropagation(),$(this).hasClass("selected-nav"))$(".blocsapp-special-menu blocsnav").removeClass("open"),$(".selected-nav").removeClass("selected-nav"),setTimeout(function(){$(".blocsapp-special-menu").remove(),$("body").removeClass("lock-scroll"),$(".selected-nav").removeClass("selected-nav")},300);else{$(this).addClass("selected-nav");var i=t.attr("class").replace("navbar","").replace("row",""),s=o.parent().attr("class").replace("navbar-collapse","").replace("collapse","");($(".content-tint").length=-1)&&$("body").append('<div class="content-tint"></div>'),n.insertBefore(".page-container").wrap('<div class="blocsapp-special-menu '+i+'"><blocsnav class="'+s+'">'),$("blocsnav").prepend('<a class="close-special-menu animated fadeIn" style="animation-delay:0.5s;"><div class="close-icon"></div></a>'),function(){var e="fadeInRight",t=0,o=60;$(".blocsapp-special-menu blocsnav").hasClass("fullscreen-nav")?(e="fadeIn",o=100):$(".blocsapp-special-menu").hasClass("nav-invert")&&(e="fadeInLeft"),$(".blocsapp-special-menu blocsnav li").each(function(){$(this).parent().hasClass("dropdown-menu")?$(this).addClass("animated fadeIn"):(t+=o,$(this).attr("style","animation-delay:"+t+"ms").addClass("animated "+e))})}(),setTimeout(function(){$(".blocsapp-special-menu blocsnav").addClass("open"),$(".content-tint").addClass("on"),$("body").addClass("lock-scroll")},10)}}),$("body").on("mousedown touchstart",".content-tint, .close-special-menu",function(e){$(".content-tint").removeClass("on"),$(".selected-nav").click(),setTimeout(function(){$(".content-tint").remove()},10)}).on("click",".blocsapp-special-menu a",function(e){$(e.target).closest(".dropdown-toggle").length||$(".close-special-menu").mousedown()})}function extraNavFuncs(){$(".site-navigation a").click(function(e){$(e.target).closest(".dropdown-toggle").length||$(".navbar-collapse").collapse("hide")}),$("a.dropdown-toggle").click(function(e){$(this).parent().addClass("target-open-menu"),$(this).closest(".dropdown-menu").find(".dropdown.open").each(function(e){$(this).hasClass("target-open-menu")||$(this).removeClass("open")}),$(".target-open-menu").removeClass("target-open-menu")})}function setFillScreenBlocHeight(){$(".bloc-fill-screen").each(function(e){var t=$(this);window.fillBodyHeight=0,$(this).find(".container").each(function(e){fillPadding=2*parseInt($(this).css("padding-top")),t.hasClass("bloc-group")?fillBodyHeight=fillPadding+$(this).outerHeight()+50:fillBodyHeight=fillBodyHeight+fillPadding+$(this).outerHeight()+50}),$(this).css("height",getFillHeight()+"px")})}function getFillHeight(){var e=$(window).height();return e<fillBodyHeight&&(e=fillBodyHeight+100),e}function scrollToTarget(e){1==e?e=0:2==e?e=$(document).height():(e=$(e).offset().top,$(".sticky-nav").length&&(e-=$(".sticky-nav .navbar-header").height())),$("html,body").animate({scrollTop:e},"slow"),$(".navbar-collapse").collapse("hide")}function animateWhenVisible(){hideAll(),inViewCheck(),$(window).scroll(function(){inViewCheck(),scrollToTopView(),stickyNavToggle()})}function setUpDropdownSubs(){$("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).parent().siblings().removeClass("open"),$(this).parent().toggleClass("open");var t=$(this).parent().children(".dropdown-menu");t.offset().left+t.width()>$(window).width()&&t.addClass("dropmenu-flow-right")})}function stickyNavToggle(){var e=0,t="sticky";if($(".sticky-nav").hasClass("fill-bloc-top-edge")){var o=$(".fill-bloc-top-edge.sticky-nav").parent().css("background-color");"rgba(0, 0, 0, 0)"==o&&(o="#FFFFFF"),$(".sticky-nav").css("background",o),e=$(".sticky-nav").height(),t="sticky animated fadeInDown"}$(window).scrollTop()>e?($(".sticky-nav").addClass(t),"sticky"==t&&$(".page-container").css("padding-top",$(".sticky-nav").height())):($(".sticky-nav").removeClass(t).removeAttr("style"),$(".page-container").removeAttr("style"))}function hideAll(){$(".animated").each(function(e){$(this).closest(".hero").length||$(this).removeClass("animated").addClass("hideMe")})}function inViewCheck(){$($(".hideMe").get().reverse()).each(function(e){var t=jQuery(this),o=t.offset().top+t.height(),n=$(window).scrollTop()+$(window).height();if(t.height()>$(window).height()&&(o=t.offset().top),o<n){var i=t.attr("class").replace("hideMe","animated");t.css("visibility","hidden").removeAttr("class"),setTimeout(function(){t.attr("class",i).css("visibility","visible")},.01)}})}function scrollToTopView(){$(window).scrollTop()>$(window).height()/3?$(".scrollToTop").hasClass("showScrollTop")||$(".scrollToTop").addClass("showScrollTop"):$(".scrollToTop").removeClass("showScrollTop")}function setUpVisibilityToggle(){$(document).on("click","[data-toggle-visibility]",function(e){e.preventDefault();var t=$(this).attr("data-toggle-visibility");if(-1!=t.indexOf(",")){var o=t.split(",");$.each(o,function(e){n($("#"+o[e]))})}else n($("#"+t));function n(e){e.is("img")?e.toggle():e.slideToggle()}})}function addSwipeSupport(){$(".carousel-inner").length&&$(".carousel-inner").swipe({swipeLeft:function(e,t,o,n,i){$(this).parent().carousel("next")},swipeRight:function(){$(this).parent().carousel("prev")},threshold:0})}$(document).ready(function(){$("#scroll-hero").click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:$("#scroll-hero").closest(".bloc").height()},"slow")}),extraNavFuncs(),setUpSpecialNavs(),setUpDropdownSubs(),setUpVisibilityToggle(),addSwipeSupport(),addKeyBoardSupport(),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&$("#page-loading-blocs-notifaction").remove()}),$(window).load(function(){setFillScreenBlocHeight(),animateWhenVisible(),$("#page-loading-blocs-notifaction").remove()}).resize(function(){setFillScreenBlocHeight()}),$(function(){$('[data-toggle="tooltip"]').tooltip()});